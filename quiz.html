<!DOCTYPE html>
<html>
  <head>
    <title>Quizzes</title>
    <link rel="stylesheet"; href="styles.css">
  </head>
  <body>
    <center>
      <h1>Quizzes</h1>
      <div class="scrollable-menu">
        <a href="index.html">Home</a>
        <a href="video.html">Videos</a>
        <a href="quiz.html">Quizzes</a>
        <a href="game.html">Game</a>
        <a href="tracker.html">Personal Tracker</a>
        <a href="contacts.html">Contacts</a>
      </div>
      <h2>Now presenting... the quizzes! Take one to see what you know!</h2>
    </center>    
    <div id="quizContainer"></div>
    <script>
        const quizzes = {
            naturalProcesses: {
                title: "Natural Processes Quiz",
                questions: [
                    "What is the process by which water changes from liquid to vapor?",
                    "What causes the formation of rainbows?",
                    "What process describes the breakdown of rocks into smaller particles?",
                    "What causes tides in the ocean?",
                    "What natural process leads to the formation of caves in limestone rocks?"
                ],
                answers: [
                    "evaporation",
                    "refraction",
                    "weathering",
                    "gravitational pull",
                    "erosion"
                ]
            },
            impactsOnProcesses: {
                title: "Impacts on Natural Processes Quiz",
                questions: [
                    "What human activity contributes to deforestation?",
                    "How does air pollution affect natural processes?",
                    "What is the primary cause of soil erosion?",
                    "How do dams impact river ecosystems?",
                    "What is the main consequence of overfishing in marine environments?"
                ],
                answers: [
                    "logging",
                    "disrupts natural cycles",
                    "water runoff",
                    "alter flow patterns",
                    "decline in fish population"
                ]
            },
            biodiversity: {
                title: "Biodiversity Quiz",
                questions: [
                    "What term describes the variety of life forms on Earth?",
                    "Which ecosystem is known for its high biodiversity?",
                    "What is the main threat to biodiversity caused by human activity?",
                    "What is the process of gradual change in ecosystems over time?",
                    "Which species are particularly vulnerable to habitat loss?"
                ],
                answers: [
                    "biodiversity",
                    "tropical rainforests",
                    "habitat destruction",
                    "succession",
                    "specialist species"
                ]
            },
            climateChange: {
                title: "Climate Change Quiz",
                questions: [
                    "What greenhouse gas is primarily responsible for global warming?",
                    "How does deforestation contribute to climate change?",
                    "What are the effects of melting polar ice caps?",
                    "What is the term for the increase in Earth's average temperature over time?",
                    "What are some consequences of climate change on ecosystems?"
                ],
                answers: [
                    "carbon dioxide",
                    "reduces carbon sinks",
                    "rising sea levels",
                    "global warming",
                    "habitat loss and"
                ]
            }
        };

        function loadQuiz(quizName) {
            const quiz = quizzes[quizName];
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = `<h2>${quiz.title}</h2>`;
            const form = document.createElement('form');
            form.innerHTML = "<ol>" + quiz.questions.map((question, index) => `<li>${question}<br><input type='text' id='q${index + 1}'></li>`).join('') + "</ol>";
            const submitButton = document.createElement('button');
            submitButton.textContent = "Submit";
            submitButton.onclick = () => gradeQuiz(quizName);
            form.appendChild(submitButton);
            quizContainer.appendChild(form);
        }

        function gradeQuiz(quizName) {
            const quiz = quizzes[quizName];
            const answers = quiz.answers;
            const form = document.getElementById('quizContainer').querySelector('form');
            let score = 0;

            for (let i = 0; i < answers.length; i++) {
                const userAnswer = form.elements['q' + (i + 1)].value.toLowerCase().trim();
                if (userAnswer === answers[i]) {
                    score++;
                }
            }

            alert(`Your score: ${score}/${answers.length}`);
        }
    </script>
    <p>
      <h3>Quiz 1: Natural Processes</h3> <br>
      <button onclick="loadQuiz('naturalProcesses')">Quiz 1</button>
      <h3>Quiz 2: Impacts on Natural Processes</h3>
      <button onclick="loadQuiz('impactsOnProcesses')">Quiz 2</button>
      <h3>Quiz 3: Biodiversity</h3>
      <button onclick="loadQuiz('biodiversity')">Quiz 3</button>
      <h3>Quiz 2: Climate change</h3>
      <button onclick="loadQuiz('climateChange')">Quiz 4</button>
    </p>    
  </body>
</html>